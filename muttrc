source "gpg2 -dq ~/.mutt/passwords.gpg |"

# Use TLS
set ssl_starttls = yes
set ssl_force_tls = yes

# User Details
set imap_user = "danlrobertson89@gmail.com"
set from = "danlrobertson89@gmail.com"
set realname = "Daniel Robertson"

# URL Directories etc...
set folder = "imaps://imap.gmail.com/"
set spoolfile = "imaps://imap.gmail.com/INBOX"
set postponed = "imaps://imap.gmail.com/[GMAIL]/Drafts"
set smtp_url = "smtp://danlrobertson89@smtp.gmail.com:587/"
#set trash="imaps://imap.gmail.com/[Gmail]/Trash"

# Cache Directories
set header_cache = "~/.mutt/cache/headers"
set message_cachedir = "~/.mutt/cache/bodies"
set certificate_file = "~/.mutt/certificates"

# Sorting
set sort_aux=reverse-date-received
set sort=threads
set sort_re
set sort_alias=alias     # sort aliases in alpha order by alias name
set auto_tag = yes
hdr_order Date: From: To: Cc: Reply-To: Subject:

# Other
set move = no
set imap_keepalive = 900
set markers
set smart_wrap
set pager_context=3
set status_on_top
push <show-version>
set quit

# Editor
set editor = "vim -c 'set spell spelllang=de,en'" 
set edit_headers

# GPG Settings
#source ~/.gpg.rc
source /usr/share/doc/mutt/samples/gpg.rc
set pgp_use_gpg_agent = yes
set pgp_sign_as = 71F66667
set pgp_timeout = 3600
set crypt_autosign = yes
set crypt_replyencrypt = yes

# Sidebar
#set sidebar_delim   = '  │'
#set sidebar_visible = yes
#set sidebar_width   = 24
#color sidebar_new color221 color233
#set status_chars  = " *%A"
#set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"
#mailboxes "+--Gmail----"\
#          +INBOX\
#          +Personal\
#          +Receipts\
#          +Travel\
#          +Work
#
#bind index,pager <up> sidebar-prev
#bind index,pager <down> sidebar-next
#bind index,pager <right> sidebar-open
bind pager k previous-line
bind pager j next-line
bind index <Return> display-message

# Colors
color index brightcolor6 color0 ~N
color index brightcolor1 color0 ~O
color index brightcolor3 color0 ~F
color index color0 color2 ~T
color index brightcolor1 color0 ~D
mono index bold ~N
mono index bold ~F
mono index bold ~T
mono index bold ~D

color body brightgreen black "(http|ftp|news|telnet|finger)://[^ \"\t\r\n]*"
color body brightgreen black "mailto:[-a-z_0-9.]+@[-a-z_0-9.]+"
mono body bold "(http|ftp|news|telnet|finger)://[^ \"\t\r\n]*"
mono body bold "mailto:[-a-z_0-9.]+@[-a-z_0-9.]+"

color body brightgreen black "[-a-z_0-9.%$]+@[-a-z_0-9.]+\\.[-a-z][-a-z]+"

ignore *
unignore from to cc date subject Message-Id
unhdr_order *
hdr_order from: to: cc: Message-Id: date: subject:

color header color1 color0 "^from:"
color header color2 color0 "^to:"
color header color2 color0 "^cc:"
color header color3 color0 "^Message-Id:"
color header color3 color0 "^date:"
color header brightcolor9 color0 "^subject:"

color quoted color1 color0
color quoted1 color2 color0
color quoted2 color3 color0
color quoted3 color4 color0
color quoted4 color5 color0
color quoted5 color6 color0
color quoted6 color7 color0
color quoted7 color8 color0

color signature brightcolor13 color0
color indicator brightcolor9 color8
color attachment color1 color0
color error color5 color0
color message color15 color0
color search brightcolor15 color0
color status brightcolor1 color0
color tree brightcolor4 color0
color normal color7 color8
color tilde color2 color0
color bold brightcolor3 color0
color underline color5 color0
color markers brightcolor4 color0
mono underline underline
mono indicator reverse

# Keybindings
bind editor <space> noop
bind index,pager d delete-message
macro index,pager A "<save-message>=[Gmail]/All Mail<enter><enter>" "Archive"
macro index gi "<change-folder>=INBOX<enter>" "Go to inbox"
macro index ga "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
macro index gs "<change-folder>=[Gmail]/Sent<enter>" "Go to starred messages"
macro index gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"
macro index gt "<change-folder>=[Gmail]/Trash<enter>" "Go to drafts"
